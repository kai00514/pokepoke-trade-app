# i18n対応進捗状況レポート

**生成日時:** 2025年11月30日
**プロジェクト:** pokepoke-trade-app
**タスク管理ファイル:** `docs/翻訳キー使用状況マップ.csv`

---

## 📊 全体進捗サマリー

| ステータス | 件数 | 割合 | 説明 |
|-----------|------|------|------|
| **完了** | 69 | 13.2% | i18n対応済み（正しく翻訳キーを使用） |
| **要確認** | 78 | 15.0% | 部分一致で検出（名前空間なしで呼び出している可能性） |
| **未実装** | 372 | 71.6% | 翻訳キーは定義されているが未使用 |
| **合計** | 519 | 100% | 全翻訳キー数 |

```
進捗バー: ■■□□□□□□□□ 13.2%完了
```

---

## 📁 名前空間別進捗状況

### 高進捗率（30%以上）

| 名前空間 | 完了/総数 | 進捗率 | ステータス |
|---------|----------|-------|-----------|
| **survey** | 8/10 | 80.0% | ✅ ほぼ完了 |
| **auth** | 11/29 | 37.9% | 🟡 進行中 |
| **evaluation** | 5/15 | 33.3% | 🟡 進行中 |

### 中進捗率（10-30%）

| 名前空間 | 完了/総数 | 進捗率 | ステータス |
|---------|----------|-------|-----------|
| **pages** | 21/79 | 26.5% | 🟡 進行中 |
| **common** | 21/113 | 18.5% | 🟡 進行中 |

### 低進捗率（10%未満）

| 名前空間 | 完了/総数 | 進捗率 | ステータス |
|---------|----------|-------|-----------|
| **errors** | 2/64 | 3.1% | 🔴 未着手 |
| **forms** | 1/46 | 2.1% | 🔴 未着手 |
| **cards** | 0/35 | 0.0% | 🔴 未着手 |
| **comments** | 0/19 | 0.0% | 🔴 未着手 |
| **decks** | 0/42 | 0.0% | 🔴 未着手 |
| **messages** | 0/45 | 0.0% | 🔴 未着手 |
| **status** | 0/6 | 0.0% | 🔴 未着手 |
| **trades** | 0/16 | 0.0% | 🔴 未着手 |

---

## ✅ 完了済みコンポーネント

以下のコンポーネントは正しくi18n対応されています：

1. **MatchingSurvey.tsx** (10 keys)
   - アンケートタイトル、質問、エラーメッセージ
   - `survey.*` 名前空間を適切に使用

2. **ui/login-prompt-modal.tsx** (9 keys)
   - ログインプロンプト、アカウント特典
   - `auth.*` 名前空間を適切に使用

3. **layout/header.tsx** (7 keys)
   - ナビゲーションボタン（サインアップ、ログイン、ログアウト）
   - `common.buttons.*` 名前空間を適切に使用

4. **layout/footer-navigation.tsx** (5 keys)
   - フッターナビゲーションリンク
   - `common.navigation.*` 名前空間を適切に使用

5. **deck-evaluation.tsx** (5 keys)
   - デッキ評価の統計項目
   - `evaluation.stats.*` 名前空間を適切に使用

---

## ⚠️ 要確認項目（部分一致検出）

以下の翻訳キーは「部分一致」で検出されました。名前空間プレフィックスなしで呼び出している可能性があります：

### cards 名前空間（48件）

**カテゴリー関連:**
- `cards.categories.all`, `pokemon`, `trainers`, `goods`, `tools`, etc.

**タイプ関連:**
- `cards.types.all`, `grass`, `fire`, `water`, `electric`, etc.

**使用箇所:** `components/detailed-search-modal.tsx`

**修正方針:**
```typescript
// 現在（推測）
t('categories.all')  // ❌

// 修正後
t('cards.categories.all')  // ✅
```

### common 名前空間（一部）

**ボタン関連:**
- `common.buttons.complete`, `close`, `creating`, etc.

**使用箇所:** `components/detailed-search-modal.tsx`, `components/trade-owned-lists/list-creation-modal.tsx`

**修正方針:** `useTranslations()` の呼び出しを確認し、名前空間プレフィックスを追加

---

## 🔴 未実装の主要機能

以下の機能は翻訳キーが定義されていますが、まだコード内で使用されていません：

### 1. サインアップ・パスワードリセット機能 (auth.signup.*, auth.reset.*)

**未使用キー数:** 13件

**主要なキー:**
- `auth.signup.title`, `subtitle`, `emailFormTitle`, etc.
- `auth.reset.title`, `subtitle`, `newPasswordTitle`, etc.

**対応方針:**
- サインアップページ・パスワードリセットページが未実装の場合、翻訳キーは保持
- 実装予定がない場合は削除を検討

### 2. コメントシステム (comments.*)

**未使用キー数:** 19件

**主要なキー:**
- `comments.title`, `titleWithCount`, `noComments`, etc.
- `comments.placeholder`, `posted`, `postError`, etc.

**対応方針:**
- コメント機能は存在するが、異なる実装を使用している可能性
- 既存のコメント機能と翻訳キーを統合する

### 3. デッキ詳細ページ (decks.*)

**未使用キー数:** 42件

**主要なキー:**
- `decks.postDeck`, `favorites`, `tierDecks`, etc.
- `decks.deckRecipe`, `deckEvaluation`, `averageScore`, etc.

**対応方針:**
- デッキ詳細ページの実装を確認
- ハードコードされた日本語テキストを翻訳キーに置き換え

### 4. ステータスバッジ (status.*)

**未使用キー数:** 6件

**主要なキー:**
- `status.recruiting`, `inProgress`, `completed`, `canceled`

**対応方針:**
- 現在 "募集中" などの日本語が直接表示されている
- `status.recruiting` などの翻訳キーに置き換える（最優先）

### 5. トレード詳細 (trades.*)

**未使用キー数:** 16件

**主要なキー:**
- `trades.wantedCards`, `offeredCards`, `authorComment`, etc.

**対応方針:**
- トレード詳細ページの実装を確認
- 翻訳キーとの整合性を確認

### 6. エラーメッセージ (errors.*)

**未使用キー数:** 62件

**対応方針:**
- エラーハンドリングで翻訳キーを使用していない
- インラインエラーメッセージを翻訳キーに置き換え

---

## 🎯 優先順位別タスク

### 🔥 最優先（すぐに対応すべき）

1. **ステータスバッジの修正**
   - 現在: ハードコードされた日本語 "募集中"
   - 対応: `status.recruiting` を使用
   - ファイル: ステータス表示コンポーネント

2. **部分一致項目の修正**
   - 対象: `detailed-search-modal.tsx` など78件
   - 対応: 名前空間プレフィックスを追加

### 🟡 高優先（近日中に対応）

3. **デッキページのi18n対応**
   - 未使用キー: 42件
   - 対応: デッキ一覧・詳細ページの翻訳キー統合

4. **トレード詳細ページのi18n対応**
   - 未使用キー: 16件
   - 対応: トレード詳細の翻訳キー統合

5. **コメントシステムの翻訳統合**
   - 未使用キー: 19件
   - 対応: 既存実装と翻訳キーの統合

### 🔵 中優先（計画的に対応）

6. **エラーメッセージの翻訳対応**
   - 未使用キー: 62件
   - 対応: エラーハンドリングの統一と翻訳化

7. **フォームの翻訳対応**
   - 未使用キー: 45件（進捗2.1%）
   - 対応: フォームラベル・プレースホルダーの翻訳化

### ⚪ 低優先（将来的に検討）

8. **未実装機能の翻訳キー整理**
   - サインアップ・パスワードリセット（13件）
   - メッセージング機能（45件）
   - 対応: 実装予定がない場合は削除、予定がある場合は保持

---

## 📝 CSVファイルの使い方

`docs/翻訳キー使用状況マップ.csv` をタスク管理表として使用できます。

### CSV列の説明

| 列名 | 説明 |
|------|------|
| **Key** | 翻訳キー（例: `common.buttons.signup`） |
| **Value** | 英語訳 |
| **File** | 翻訳ファイル名（例: `common.json`） |
| **UsedIn** | 使用箇所のファイルパス |
| **ComponentName** | 使用しているコンポーネント名 |
| **PageURL** | 該当ページのURL（推測） |
| **Status** | 対応状況（完了/要確認/未実装） |
| **Notes** | 備考 |

### ステータスの意味

- **完了**: i18n対応済み。正しく名前空間付きで翻訳キーを使用
- **要確認**: 部分一致で検出。名前空間なしで呼び出している可能性あり
- **未実装**: 翻訳キーは定義されているが、コード内で使用されていない

### 進捗更新方法

1. コンポーネントを修正したら、該当行の `Status` を更新
2. 修正内容を `Notes` 列に記録
3. `UsedIn` や `ComponentName` を確認して対応漏れを防ぐ

---

## 🔄 次のアクション

1. **ステータスバッジの修正** - ハードコードされた "募集中" を `status.recruiting` に置き換え
2. **部分一致項目の調査** - `detailed-search-modal.tsx` など78件の名前空間確認
3. **デッキページの調査** - 未使用の42件のキーの必要性を確認
4. **進捗の定期更新** - CSVファイルを随時更新して進捗を可視化

---

**レポート生成:** Claude Code
**分析方法:** コードベース全体のgrep検索により翻訳キーの使用箇所を特定
